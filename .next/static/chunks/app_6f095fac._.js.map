{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/live-app/socail-app/socail-forntend/socail-appwith-web/socail-web-app/app/apicall.js"],"sourcesContent":["// component/api.js\r\n\r\nimport axios from 'axios';\r\n\r\n\r\n// ‚úÖ Axios instance banao\r\nconst api = axios.create({\r\n    // baseURL: 'http://10.17.254.92:5000', // yahan apna base URL daal\r\n    baseURL: 'https://socail-app-bakcend-v-2-2.onrender.com/', // yahan apna base URL daal\r\n\r\n    // baseURL: 'https://firebase-chat-app-v-8-3.onrender.com', // yahan apna base URL daal\r\n    timeout: 5000,\r\n});\r\n\r\n// ‚úÖ Request interceptor: Har request mein token lagana hai to\r\n// api.interceptors.request.use(\r\n//   async (config) => {\r\n//     const token = await AsyncStorage.getItem('token'); // ya 'tokenn' jo bhi rakha ho\r\n//     if (token) {\r\n//       config.headers.Authorization = `Bearer ${token}`;\r\n//     }\r\n//     return config;\r\n//   },\r\n//   (error) => Promise.reject(error)\r\n// );\r\n\r\n// ‚úÖ Response interceptor: agar chaho to response mein kuch kar sakte ho\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        // yahan 401 error handle, logout, refresh token wagaira kar sakte ho\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;AAEnB;;AAGA,yBAAyB;AACzB,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACrB,mEAAmE;IACnE,SAAS;IAET,uFAAuF;IACvF,SAAS;AACb;AAEA,8DAA8D;AAC9D,gCAAgC;AAChC,wBAAwB;AACxB,wFAAwF;AACxF,mBAAmB;AACnB,0DAA0D;AAC1D,QAAQ;AACR,qBAAqB;AACrB,OAAO;AACP,qCAAqC;AACrC,KAAK;AAEL,wEAAwE;AACxE,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,CAAC;IACG,qEAAqE;IACrE,OAAO,QAAQ,MAAM,CAAC;AAC1B;uCAGW","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/live-app/socail-app/socail-forntend/socail-appwith-web/socail-web-app/app/post/page.jsx"],"sourcesContent":["// // \"use client\";\r\n// // import { useEffect, useState } from \"react\";\r\n// // import api from \"../apicall.js\";\r\n\r\n// // export default function CreatePostPage() {\r\n// //     const [content, setContent] = useState(\"\");\r\n// //     const [image, setImage] = useState(null);\r\n// //     const [loading, setLoading] = useState(false);\r\n\r\n// //     // üìå Image select\r\n// //     const handleImageChange = (e) => {\r\n// //         if (e.target.files && e.target.files[0]) {\r\n// //             setImage(e.target.files[0]);\r\n// //         }\r\n// //     };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// //     useEffect(() => {\r\n\r\n\r\n// //         let apicall = async () => {\r\n// //             try {\r\n// //                 let data = (await api.get('api')).data\r\n\r\n// //                 console.log(data)\r\n// //             } catch (error) {\r\n// //                 console.log('error',)\r\n// //             }\r\n// //         }\r\n\r\n\r\n// //         apicall()\r\n// //     }, [])\r\n\r\n\r\n// //     // üìå Submit Post\r\n// //     const handlePost = async (e) => {\r\n// //         e.preventDefault();\r\n// //         if (!content.trim() && !image) {\r\n// //             alert(\"‚ö†Ô∏è Write something or select an image\");\r\n// //             return;\r\n// //         }\r\n\r\n// //         setLoading(true);\r\n// //         try {\r\n// //             const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n\r\n// //             const formData = new FormData();\r\n// //             formData.append(\"id\", user._id); // must match backend 'id'\r\n// //             formData.append(\"content\", content);\r\n\r\n// //             if (image) {\r\n// //                 formData.append(\"image\", image); // must match multer field name\r\n// //             }\r\n\r\n// //             // ‚úÖ Do NOT manually set Content-Type\r\n// //             const res = await api.get(\"post\", formData);\r\n\r\n// //             console.log(\"‚úÖ Upload Success:\", res.data);\r\n// //             alert(\"‚úÖ Post created successfully!\");\r\n\r\n// //             setContent(\"\");\r\n// //             setImage(null);\r\n// //         } catch (error) {\r\n// //             console.error(\r\n// //                 \"‚ùå Upload Error:\",\r\n// //                 error.response?.data || error.message || \"Unknown Error\"\r\n// //             );\r\n// //             alert(\"‚ùå Could not create post\");\r\n// //         } finally {\r\n// //             setLoading(false);\r\n// //         }\r\n// //     };\r\n\r\n// //     return (\r\n// //         <div className=\"min-h-screen bg-gray-50 flex justify-center items-center p-6\">\r\n// //             <div className=\"bg-white w-full max-w-lg p-6 rounded-2xl shadow-lg\">\r\n// //                 <h1 className=\"text-2xl font-bold text-center mb-4 text-gray-800\">\r\n// //                     Create Post\r\n// //                 </h1>\r\n\r\n// //                 <form onSubmit={handlePost}>\r\n// //                     {/* Content */}\r\n// //                     <textarea\r\n// //                         placeholder=\"What's on your mind?\"\r\n// //                         className=\"w-full border border-gray-300 rounded-lg p-3 min-h-[100px] mb-4 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n// //                         value={content}\r\n// //                         onChange={(e) => setContent(e.target.value)}\r\n// //                     />\r\n\r\n// //                     {/* Image Upload */}\r\n// //                     <div className=\"mb-4\">\r\n// //                         <input\r\n// //                             type=\"file\"\r\n// //                             accept=\"image/*\"\r\n// //                             onChange={handleImageChange}\r\n// //                             className=\"block w-full text-sm text-gray-600 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none\"\r\n// //                         />\r\n// //                         {image && (\r\n// //                             <img\r\n// //                                 src={URL.createObjectURL(image)}\r\n// //                                 alt=\"Preview\"\r\n// //                                 className=\"mt-3 w-full h-60 object-cover rounded-lg\"\r\n// //                             />\r\n// //                         )}\r\n// //                     </div>\r\n\r\n// //                     {/* Post Button */}\r\n// //                     <button\r\n// //                         type=\"submit\"\r\n// //                         disabled={loading}\r\n// //                         className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-60\"\r\n// //                     >\r\n// //                         {loading ? \"Posting...\" : \"Post\"}\r\n// //                     </button>\r\n// //                 </form>\r\n// //             </div>\r\n// //         </div>\r\n// //     );\r\n// // }\r\n\r\n\r\n\r\n\r\n\r\n// \"use client\";\r\n// import { useState } from \"react\";\r\n// import api from \"../apicall.js\";\r\n\r\n// export default function CreatePostPage() {\r\n//     const [content, setContent] = useState(\"\");\r\n//     const [image, setImage] = useState(null);\r\n//     const [loading, setLoading] = useState(false);\r\n\r\n//     // üìå Image select\r\n//     const handleImageChange = (e) => {\r\n//         if (e.target.files && e.target.files[0]) {\r\n//             setImage(e.target.files[0]);\r\n//         }\r\n//     };\r\n\r\n//     // üìå Submit Post\r\n\r\n\r\n//     return (\r\n//         <div className=\"min-h-screen bg-gray-50 flex justify-center items-center p-6\">\r\n//             <div className=\"bg-white w-full max-w-lg p-6 rounded-2xl shadow-lg\">\r\n//                 <h1 className=\"text-2xl font-bold text-center mb-4 text-gray-800\">\r\n//                     Create Post\r\n//                 </h1>\r\n\r\n//                 <form onSubmit={handlePost}>\r\n//                     {/* Content */}\r\n//                     <textarea\r\n//                         placeholder=\"What's on your mind?\"\r\n//                         className=\"w-full border border-gray-300 rounded-lg p-3 min-h-[100px] mb-4 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n//                         value={content}\r\n//                         onChange={(e) => setContent(e.target.value)}\r\n//                     />\r\n\r\n//                     {/* Image Upload */}\r\n//                     <div className=\"mb-4\">\r\n//                         <input\r\n//                             type=\"file\"\r\n//                             accept=\"image/*\"\r\n//                             onChange={handleImageChange}\r\n//                             className=\"block w-full text-sm text-gray-600 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none\"\r\n//                         />\r\n//                         {image && (\r\n//                             <img\r\n//                                 src={URL.createObjectURL(image)}\r\n//                                 alt=\"Preview\"\r\n//                                 className=\"mt-3 w-full h-60 object-cover rounded-lg\"\r\n//                             />\r\n//                         )}\r\n//                     </div>\r\n\r\n//                     {/* Post Button */}\r\n//                     <button\r\n//                         type=\"submit\"\r\n//                         disabled={loading}\r\n//                         className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-60\"\r\n//                     >\r\n//                         {loading ? \"Posting...\" : \"Post\"}\r\n//                     </button>\r\n//                 </form>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"../apicall.js\";\r\n\r\nexport default function CreatePostPage() {\r\n    const [content, setContent] = useState(\"\");\r\n    const [image, setImage] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleImageChange = (e) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        let username = localStorage.getItem('user')\r\n        console.log('usernmae', username)\r\n\r\n    }, [])\r\n\r\n\r\n    const handlePost = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!content.trim() && !image) {\r\n            alert(\"‚ö†Ô∏è Write something or select an image\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        let username = localStorage.getItem('user')\r\n\r\n        try {\r\n            // const user = localStorage.getItem('user')\r\n            const id = localStorage.getItem('id')\r\n\r\n\r\n            console.log('useid ', JSON.stringify(id))\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"id\", id);\r\n            formData.append(\"username\", username);\r\n            formData.append(\"content\", content);\r\n            if (image) formData.append(\"image\", image);\r\n\r\n            // ‚úÖ Yaha POST request hai, GET nahi\r\n            const res = await api.post(\"post\", formData);\r\n\r\n            console.log(\"‚úÖ Upload Success:\", res.data);\r\n            // alert(\"‚úÖ Post created successfully!\");\r\n\r\n            setContent(\"\");\r\n            setImage(null);\r\n        } catch (error) {\r\n            console.error(\r\n                \"‚ùå Upload Error:\",\r\n                // error.response?.data || error.message || \"Unknown Error\"\r\n\r\n                error.message\r\n            );\r\n            alert(\"‚ùå Could not create post\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex justify-center items-center p-6\">\r\n            <div className=\"bg-white w-full max-w-lg p-6 rounded-2xl shadow-lg\">\r\n                <h1 className=\"text-2xl font-bold text-center mb-4 text-gray-800\">\r\n                    Create Post\r\n                </h1>\r\n\r\n                <form onSubmit={handlePost}>\r\n                    <textarea\r\n                        placeholder=\"What's on your mind?\"\r\n                        className=\"w-full border border-gray-300 rounded-lg p-3 min-h-[100px] mb-4 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                        value={content}\r\n                        onChange={(e) => setContent(e.target.value)}\r\n                    />\r\n\r\n                    <div className=\"mb-4\">\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            onChange={handleImageChange}\r\n                            className=\"block w-full text-sm text-gray-600 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none\"\r\n                        />\r\n                        {image && (\r\n                            <img\r\n                                src={URL.createObjectURL(image)}\r\n                                alt=\"Preview\"\r\n                                className=\"mt-3 w-full h-60 object-cover rounded-lg\"\r\n                            />\r\n                        )}\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-60\"\r\n                    >\r\n                        {loading ? \"Posting...\" : \"Post\"}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}