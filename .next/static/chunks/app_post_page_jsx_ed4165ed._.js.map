{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/live-app/socail-app/socail-forntend/socail-appwith-web/socail-web-app/app/post/page.jsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function CreatePostPage() {\r\n    const [content, setContent] = useState(\"\");\r\n    const [image, setImage] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    // üìå Image select\r\n    const handleImageChange = (e) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            setImage(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    // üìå Submit Post\r\n    const handlePost = async () => {\r\n        if (!content.trim() && !image) {\r\n            alert(\"‚ö†Ô∏è Write something or select an image\");\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"id\", user._id);\r\n            formData.append(\"content\", content);\r\n\r\n            if (image) {\r\n                formData.append(\"image\", image);\r\n            }\r\n\r\n            const res = await axios.post(\"/api/post\", formData, {\r\n                headers: { \"Content-Type\": \"multipart/form-data\" },\r\n            });\r\n\r\n            console.log(\"‚úÖ Upload Success:\", res.data);\r\n            alert(\"‚úÖ Post created successfully!\");\r\n\r\n            setContent(\"\");\r\n            setImage(null);\r\n        } catch (error) {\r\n            console.error(\"‚ùå Upload Error:\", error.response?.data || error.message);\r\n            alert(\"‚ùå Could not create post\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 flex justify-center items-center p-6\">\r\n            <div className=\"bg-white w-full max-w-lg p-6 rounded-2xl shadow-lg\">\r\n                <h1 className=\"text-2xl font-bold text-center mb-4 text-gray-800\">\r\n                    Create Post\r\n                </h1>\r\n\r\n                {/* Content */}\r\n                <textarea\r\n                    placeholder=\"What's on your mind?\"\r\n                    className=\"w-full border border-gray-300 rounded-lg p-3 min-h-[100px] mb-4 focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                />\r\n\r\n                {/* Image Upload */}\r\n                <div className=\"mb-4\">\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleImageChange}\r\n                        className=\"block w-full text-sm text-gray-600 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none\"\r\n                    />\r\n                    {image && (\r\n                        <img\r\n                            src={URL.createObjectURL(image)}\r\n                            alt=\"Preview\"\r\n                            className=\"mt-3 w-full h-60 object-cover rounded-lg\"\r\n                        />\r\n                    )}\r\n                </div>\r\n\r\n                {/* Post Button */}\r\n                <button\r\n                    onClick={handlePost}\r\n                    disabled={loading}\r\n                    className=\"w-full py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-60\"\r\n                >\r\n                    {loading ? \"Posting...\" : \"Post\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,kBAAkB;IAClB,MAAM,oBAAoB,CAAC;QACvB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YACrC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QAC9B;IACJ;IAEA,iBAAiB;IACjB,MAAM,aAAa;QACf,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,OAAO;YAC3B,MAAM;YACN;QACJ;QAEA,WAAW;QACX,IAAI;YACA,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,WAAW;YAExD,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,MAAM,KAAK,GAAG;YAC9B,SAAS,MAAM,CAAC,WAAW;YAE3B,IAAI,OAAO;gBACP,SAAS,MAAM,CAAC,SAAS;YAC7B;YAEA,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,aAAa,UAAU;gBAChD,SAAS;oBAAE,gBAAgB;gBAAsB;YACrD;YAEA,QAAQ,GAAG,CAAC,qBAAqB,IAAI,IAAI;YACzC,MAAM;YAEN,WAAW;YACX,SAAS;QACb,EAAE,OAAO,OAAO;gBACqB;YAAjC,QAAQ,KAAK,CAAC,mBAAmB,EAAA,kBAAA,MAAM,QAAQ,cAAd,sCAAA,gBAAgB,IAAI,KAAI,MAAM,OAAO;YACtE,MAAM;QACV,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;;8BACX,6LAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAKlE,6LAAC;oBACG,aAAY;oBACZ,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;8BAI9C,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BACG,MAAK;4BACL,QAAO;4BACP,UAAU;4BACV,WAAU;;;;;;wBAEb,uBACG,6LAAC;4BACG,KAAK,IAAI,eAAe,CAAC;4BACzB,KAAI;4BACJ,WAAU;;;;;;;;;;;;8BAMtB,6LAAC;oBACG,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,UAAU,eAAe;;;;;;;;;;;;;;;;;AAK9C;GA3FwB;KAAA","debugId":null}}]
}